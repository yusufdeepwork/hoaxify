{"ast":null,"code":"var _jsxFileName = \"/home/yusuf/frontend/src/pages/UserSignupPage.js\";\nimport React from 'react';\nimport axios from 'axios';\nimport { signup, changeLanguage } from '../api/apiCalls';\nimport Input from '../components/Input';\nimport { withTranslation } from 'react-i18next';\n\nclass UserSignupPage extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      username: null,\n      displayName: null,\n      password: null,\n      passwordRepeat: null,\n      pendingApiCall: false,\n      errors: {}\n    };\n\n    this.onChange = event => {\n      const {\n        name,\n        value\n      } = event.target; // object parçalama event targetin içindeki name ve value yi al anlamına geliyor\n\n      const errors = { ...this.state.errors\n      };\n      errors[name] = undefined;\n      const {\n        t\n      } = this.props; // if(name === 'password' || name === 'Repeatpassword'){\n      //     if(name ==='password' && value!==this.state.passwordRepeat)\n      //     errors.passwordRepeat ='Password Mismatch';\n      //     else if (name ==='Repeatpassword' && value!==this.state.password)\n      //     errors.passwordRepeat ='Password Mismatch';\n      //     else\n      //     errors.passwordRepeat = undefined;\n      // }\n\n      if (name === 'password' || name === 'passwordRepeat') {\n        if (name === 'password' && value !== this.state.passwordRepeat) errors.passwordRepeat = t('Password mismatch');else if (name === 'passwordRepeat' && value !== this.state.password) errors.passwordRepeat = t('Password mismatch');else errors.passwordRepeat = undefined;\n      }\n\n      this.setState({\n        [name]: value,\n        errors\n      });\n    };\n\n    this.onChangeLanguage = language => {\n      const {\n        i18n\n      } = this.props;\n      i18n.changeLanguage(language);\n      changeLanguage(language);\n    };\n\n    this.onClickSignup = async event => {\n      event.preventDefault();\n      const {\n        username,\n        displayName,\n        password\n      } = this.state;\n      const body = {\n        username,\n        displayName,\n        password\n      };\n      this.setState({\n        pendingApiCall: true\n      });\n\n      try {\n        const response = await signup(body);\n      } catch (error) {\n        if (error.response.data.validationErrors) {\n          this.setState({\n            errors: error.response.data.validationErrors\n          });\n        }\n      }\n\n      this.setState({\n        pendingApiCall: false\n      }); // .then(response =>{ \n      //     this.setState({pendingApiCall:false});\n      // }).catch(error => {\n      //     this.setState({pendingApiCall:false});\n      // });\n    };\n  }\n\n  // onChangeUsername = event => {\n  //     this.setState({\n  //         username : event.target.value\n  //     });\n  // };\n  // onChangeDisplayname = event => {\n  //     this.setState({\n  //         displayName : event.target.value\n  //     });\n  // };\n  // onChangePassword = event => {\n  //     this.setState({\n  //         password : event.target.value\n  //     });\n  // };\n  // onChangeRepeatPassword = event => {\n  //     this.setState({\n  //         Repeatpassword : event.target.value\n  //     });\n  // };\n  //  (onay butonu)  onChangeAgree = event => {\n  //         this.setState({\n  //             agreeClicked : event.target.checked\n  //         });\n  //     };\n  //{username ? \"form-control is-invalid\" : \"form-control\"}\n  render() {\n    const {\n      pendingApiCall,\n      errors\n    } = this.state;\n    const {\n      username,\n      displayName,\n      password,\n      passwordRepeat\n    } = errors;\n    const {\n      t\n    } = this.props;\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"container\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 5\n      }\n    }, t('Sign Up')), /*#__PURE__*/React.createElement(Input, {\n      name: \"username\",\n      onChange: this.onChange,\n      label: t('Username'),\n      error: username,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      name: \"displayName\",\n      onChange: this.onChange,\n      label: t(\"Display Name\"),\n      error: displayName,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 139,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      name: \"password\",\n      onChange: this.onChange,\n      label: t('Password'),\n      error: password,\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 140,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(Input, {\n      name: \"passwordRepeat\",\n      onChange: this.onChange,\n      label: t('Password Repeat'),\n      error: passwordRepeat,\n      type: \"password\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"button\", {\n      className: \"btn btn-primary\",\n      onClick: this.onClickSignup,\n      disabled: pendingApiCall || passwordRepeat !== undefined,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 1\n      }\n    }, pendingApiCall && /*#__PURE__*/React.createElement(\"span\", {\n      className: \"spinner-border spinner-border-sm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 28\n      }\n    }), \" \", t('Sign Up'))), /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167,\n        columnNumber: 1\n      }\n    }, /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://www.countryflags.io/tr/flat/24.png\",\n      alt: \"Turkish Flag\",\n      onClick: () => this.onChangeLanguage('tr'),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 5\n      }\n    }), /*#__PURE__*/React.createElement(\"img\", {\n      src: \"https://www.countryflags.io/us/flat/20.png\",\n      alt: \"English flag\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 170,\n        columnNumber: 5\n      }\n    }, \" \"))));\n  }\n\n}\n\nconst UserSignupPageWithTranslation = withTranslation()(UserSignupPage);\nexport default UserSignupPageWithTranslation;","map":{"version":3,"sources":["/home/yusuf/frontend/src/pages/UserSignupPage.js"],"names":["React","axios","signup","changeLanguage","Input","withTranslation","UserSignupPage","Component","state","username","displayName","password","passwordRepeat","pendingApiCall","errors","onChange","event","name","value","target","undefined","t","props","setState","onChangeLanguage","language","i18n","onClickSignup","preventDefault","body","response","error","data","validationErrors","render","UserSignupPageWithTranslation"],"mappings":"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","sourcesContent":["import React from 'react';\nimport axios from 'axios';\nimport {signup,changeLanguage} from '../api/apiCalls' \nimport Input from '../components/Input'\nimport { withTranslation  } from 'react-i18next';\n\nclass UserSignupPage extends React.Component{    \n\n    state = {\n        username : null,\n        displayName : null,\n        password : null,\n        passwordRepeat : null,\n        pendingApiCall:false,\n        errors: {}\n\n    };\n\n    onChange = event => {\n        const {name,value}=event.target;  // object parçalama event targetin içindeki name ve value yi al anlamına geliyor\n        const errors = { ...this.state.errors };\n        errors[name]=undefined;\n\n        const {t}=this.props;\n\n\n     \n        // if(name === 'password' || name === 'Repeatpassword'){\n        //     if(name ==='password' && value!==this.state.passwordRepeat)\n        //     errors.passwordRepeat ='Password Mismatch';\n        //     else if (name ==='Repeatpassword' && value!==this.state.password)\n        //     errors.passwordRepeat ='Password Mismatch';\n        //     else\n        //     errors.passwordRepeat = undefined;\n        // }\n        if (name === 'password' || name === 'passwordRepeat') {\n            if (name === 'password' && value !== this.state.passwordRepeat) \n              errors.passwordRepeat = t('Password mismatch');\n             else if (name === 'passwordRepeat' && value !== this.state.password) \n              errors.passwordRepeat = t('Password mismatch');\n             else \n              errors.passwordRepeat = undefined;\n          }\n\n        this.setState({\n            [name] : value,\n            errors\n        });\n    };\n\n    onChangeLanguage = language => {\n\n        const {i18n} = this.props;\n    \n        i18n.changeLanguage(language);\n        changeLanguage(language);\n\n\n    }\n\n\n    onClickSignup = async event =>{\n\n        event.preventDefault();\n        \n        const {username, displayName , password}=this.state;\n\n        const body={\n            username,\n            displayName,\n            password\n        };\n\n        this.setState(\n           { pendingApiCall : true}\n        );\n     \n        try {\n            \n            const response = await signup(body);\n\n        } catch (error) {\n            if (error.response.data.validationErrors) {\n                    this.setState({ errors: error.response.data.validationErrors });\n            }\n                }\n\n\n        this.setState({pendingApiCall:false});\n     \n       // .then(response =>{ \n        //     this.setState({pendingApiCall:false});\n        // }).catch(error => {\n        //     this.setState({pendingApiCall:false});\n        // });\n        \n    };\n\n    // onChangeUsername = event => {\n    //     this.setState({\n    //         username : event.target.value\n    //     });\n    // };\n    // onChangeDisplayname = event => {\n    //     this.setState({\n    //         displayName : event.target.value\n    //     });\n    // };\n    // onChangePassword = event => {\n    //     this.setState({\n    //         password : event.target.value\n    //     });\n    // };\n    // onChangeRepeatPassword = event => {\n    //     this.setState({\n    //         Repeatpassword : event.target.value\n    //     });\n    // };\n//  (onay butonu)  onChangeAgree = event => {\n//         this.setState({\n//             agreeClicked : event.target.checked\n//         });\n//     };\n//{username ? \"form-control is-invalid\" : \"form-control\"}\n\n\n\nrender(){\n\n    const {pendingApiCall,errors} = this.state;\n    const {username,displayName,password,passwordRepeat}=errors;\n    const { t } = this.props;\n    return(\n\n        <div className=\"container\">\n<form>\n    <h1 className=\"text-center\">{t('Sign Up')}</h1>\n    <Input name=\"username\" onChange={this.onChange} label ={t('Username')}  error={username} />\n    <Input name=\"displayName\" onChange={this.onChange} label = {t(\"Display Name\")} error={displayName} />\n    <Input name=\"password\" onChange={this.onChange} label = {t('Password')} error={password} type=\"password\"/>\n    <Input name=\"passwordRepeat\" onChange={this.onChange} label= {t('Password Repeat')} error={passwordRepeat} type=\"password\" />     \n{/* <div className=\"form-group\">\n    <label>Username</label>\n    <input className={username ? 'form-control is-invalid' : 'form-control'}    name=\"username\" onChange={this.onChange} />\n    <div className=\"invalid-feedback\">{username}</div>\n</div> */}\n{/* <div className=\"form-group\">\n    <label>Display Name</label>\n    <input className={displayName ? 'form-control is-invalid' : 'form-control'} name=\"displayName\" onChange={this.onChange}/>\n    <div className=\"invalid-feedback\">{displayName}</div>\n</div> */}\n{/* <div className=\"form-group\">\n    <label>Password</label>\n    <input className=\"form-control\" name=\"password\"type=\"password\" onChange={this.onChange}/>\n</div> */}\n{/* <div className=\"form-group\">\n    <label>Password Repeat </label>\n    <input className=\"form-control\" name=\"Repeatpassword\"type=\"password\" onChange={this.onChange}/>\n</div> */}\n\n<div className=\"text-center\">\n<button className=\"btn btn-primary\" onClick={this.onClickSignup} disabled={pendingApiCall || passwordRepeat !== undefined}>\n        {pendingApiCall && <span className=\"spinner-border spinner-border-sm\" ></span> } {t('Sign Up')}\n        </button>\n</div>\n\n<div>\n      \n    <img   src=\"https://www.countryflags.io/tr/flat/24.png\" alt=\"Turkish Flag\" onClick={() => this.onChangeLanguage('tr')} ></img> \n    <img src=\"https://www.countryflags.io/us/flat/20.png\"  alt=\"English flag\"> </img>\n</div>\n\n        </form>\n\n        </div>\n\n\n        \n        \n    );\n}\n\n}\n\nconst UserSignupPageWithTranslation = withTranslation()(UserSignupPage);\nexport default UserSignupPageWithTranslation;"]},"metadata":{},"sourceType":"module"}